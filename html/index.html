
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>layout</title>
<link href='../css/global.css' rel="stylesheet" />
<link href='../css/table.css' rel="stylesheet" />
<link href='../css/jquery-ui.min.css' rel="stylesheet" />
<script src="../script/jquery.js"></script>
<script src="../script/jquery.layout.js"></script>
<style>
 li div.form{
  display:inline;
  color: #a79c9c !important;
  background: url(data:image/gif;base64,R0lGODlhAwADAIAAAP///8zMzCH5BAAAAAAALAAAAAADAAMAAAIEBHIJBQA7) no-repeat center !important;
 }
 li div.form div{
   float:left
 }
 li .icon{
  width: 20%;
  float: left;
  height: 30px;
  cursor: pointer;
  
 }
 #iframeheads div:hover{
     background-color:#d3ded3
 }
 #iframeheads div span:hover{
     background-color:red;
 }
 #iframeheads div{
     float:left;
     cursor: pointer;
     text-align:center;
     color: #9c9494;
     display:block;
     margin-right: 10px;
     background-color: #f9fbf9;
  }
 .active{
   background-color: #2dd52d !important;
 }
 </style>
<script type="text/javascript">
 var j = jQuery.noConflict();
j(function () {
            var myLayout = j("body").layout(
            {
                applyDefaultStyles: true,//应用默认样式  
                scrollToBookmarkOnLoad: false,//页加载时滚动到标签  
                showOverflowOnHover: false,//鼠标移过显示被隐藏的，只在禁用滚动条时用。  
                north__closable: false,//可以被关闭  
                north__resizable: false,//可以改变大小  
                north__size: 50,//pane的大小  
                spacing_open: 8,//边框的间隙  
                spacing_closed: 60,//关闭时边框的间隙  
                resizerTip: "可调整大小",//鼠标移到边框时，提示语  
                //resizerCursor:"resize-p" 鼠标移上的指针样式  
                resizerDragOpacity: 0.9,//调整大小边框移动时的透明度  
                maskIframesOnResize: "#ifa",//在改变大小的时候，标记iframe（未通过测试）  
                sliderTip: "显示/隐藏侧边栏",//在某个Pane隐藏后，当鼠标移到边框上显示的提示语。  
                sliderCursor: "pointer",//在某个Pane隐藏后，当鼠标移到边框上时的指针样式。  
                slideTrigger_open: "dblclick",//在某个Pane隐藏后，鼠标触发其显示的事件。(click", "dblclick", "mouseover)  
                slideTrigger_close: "click",//在某个Pane隐藏后，鼠标触发其关闭的事件。("click", "mouseout")  
                togglerTip_open: "关闭",//pane打开时，当鼠标移动到边框上按钮上，显示的提示语  
                togglerTip_closed: "打开",//pane关闭时，当鼠标移动到边框上按钮上，显示的提示语  
                togglerLength_open: 100,//pane打开时，边框按钮的长度  
                togglerLength_closed: 200,//pane关闭时，边框按钮的长度  
                hideTogglerOnSlide: true,//在边框上隐藏打开/关闭按钮(测试未通过)  
                //togglerAlign_open: "left",//pane打开时，边框按钮显示的位置  
                // togglerAlign_closed: "right",//pane关闭时，边框按钮显示的位置  
                // togglerContent_open: "<div style='background:red'>AAA</div>",//pane打开时，边框按钮中需要显示的内容可以是符号"<"等。需要加入默认css样式.ui-layout-toggler .content   
                togglerContent_closed: "<img/>",//pane关闭时，同上。  
                enableCursorHotkey: true,//启用快捷键CTRL或shift + 上下左右。  
                customHotkeyModifier: "shift",//自定义快捷键控制键("CTRL", "SHIFT", "CTRL+SHIFT"),不能使用alt  
                south__customHotkey: "shift+0",//自定义快捷键（测试未通过）  
                fxName: "drop",//打开关闭的动画效果  
                fxSpeed: "slow"//动画速度  
                //fxSettings: { duration: 500, easing: "bounceInOut" }//自定义动画设置(未通过测试)  
                //initClosed:true,//初始时，所有pane关闭  
                //initHidden:true //初始时，所有pane隐藏  
                //onresize: ons,//调整大小时调用的函数  
                //onshow_start: start,
                //onshow_end: end
                /* 
                其他回调函数 
                 
                显示时调用 
                onshow = "" 
                onshow_start = ""  
                onshow_end = ""  
                隐藏时调用 
                onhide = ""  
                onhide_start = ""  
                onhide_end = ""  
                打开时调用 
                onopen = ""  
                onopen_start = ""  
                onopen_end = ""  
                关闭时调用 
                onclose = ""  
                onclose_start = ""  
                onclose_end = ""  
                改变大小时调用 
                onresize = ""  
                onresize_start = ""  
                onresize_end = ""  
                */
            });
            
        });
        
        
</script>
<script src="../jquery.min.js"></script>
<script src="../script/jquery-ui.min.js"></script>
 <script type="text/javascript">
  $(function() {
   var icons = {
      header: "ui-icon-circle-arrow-e",
      activeHeader: "ui-icon-circle-arrow-s"
    };
    $( "#accordion" ).accordion({
      collapsible: true,
      icons: icons,
      heightStyle: "fill"
    });
  });
  </script>
</head>
<body>

  <div class="ui-layout-center">
     <div id="iframeheads" style='display:inline'></div>
     <div id="iframerows"></div>
 </div>
  <div class="ui-layout-north">North</div>
  <div class="ui-layout-south">South</div>
  <div class="ui-layout-west" >
          <div id="accordion">
                   <h3>部分 1</h3>
                   <div id='test'>
                     <ul>
                       <li class="menu_row" style="width:98%;height:10px">
                        <div class="form" style="width:98%;height:98%">
                          <div class="text" title="Supplier" target="1"><span class="ui-icon ui-icon-arrowthick-1-e"></span>Supplier</div>
                          <div class="clear"></div>
                         </div>
                       </li>
                         <li class="menu_row" style="width:98%;height:10px">
                        <div class="form" style="width:98%;height:98%">
                          <div class="text" title="Customer" target="2"><span class="ui-icon ui-icon-arrowthick-1-e"></span>Customer</div>
                          <div class="clear"></div>
                         </div>
                       </li>
                      </ul>
                   </div>
                   <h3>部分 2</h3>
                   <div id='study'>
                     <p>
                     Sed non urna. Donec et ante. Phasellus eu ligula. Vestibulum sit amet
                     purus. Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis porttitor
                     velit, faucibus interdum tellus libero ac justo. Vivamus non quam. In
                     suscipit faucibus urna.
                     </p>
                   </div>
           </div>
 </div>
 
<script type="text/javascript">
$(function(){
 $.getJSON('../data/json/pages.json',function(data){
  data.forEach(function(x){
    var html='<li class="menu_row" style="width:98%;height:10px"><div class="form" style="width:98%;height:98%"><div class="text" title="'+x.title+'" target="'+x.target+'"><span class="ui-icon ui-icon-arrowthick-1-e"></span>'+x.title+'</div></div></li>';
    if($('#accordion #'+x.part).find('ul').length>0){
      $('#accordion #'+x.part).find('ul').eq(0).append(html);
    }
  });
  
 })
 $("#accordion").delegate("div.form","click",function(){
    var target=$(this).find("div.text").attr('target');
    
    if($("div#iframerows").find('#iframerow_' + target).length==0){
      var html= "<div id='iframerow_" + target + "' class='iframe-row'><iframe target='" + target + "' title='test' src='../index.html?menuid="+target+"' frameborder='no' border='0'></iframe></div>";
      $("div#iframerows").append(html);
     //---------------------------------------------
      var title=$(this).find("div.text").attr('title');
      var head="<div class='text' target='"+target+"' >"+title+"<span class='ui-icon 	ui-icon-closethick'></span></div>";
      $("div#iframeheads").append(head);
    }
    $('#iframerow_' + target).show();
    //$("div#iframeheads").find('div.text[target="' + target+'"').addClass('active');
    $('#iframerow_' + target).siblings('.iframe-row').hide();
    var width=$('.ui-layout-center').width();
    $('.ui-layout-center').find('iframe').width(width);
 });
 $('.ui-layout-center').resize(function(){
    var width=$('.ui-layout-center').width();
    $('.ui-layout-center').find('iframe').width(width);
 });
 $("div#iframeheads").delegate('div','click',function(){
    var target=$(this).attr('target');
    $('#iframerow_' + target).show();
    $(this).addClass('active');
    $(this).siblings().removeClass('active')
    $('#iframerow_' + target).siblings('.iframe-row').hide();
 });
 $("div#iframeheads").delegate('span.ui-icon-closethick','click',function(event){
    var target=$(this).parent().attr('target');
    $(this).parent().remove();
    $('#iframerow_' + target).remove();
    if($("div#iframeheads").find('div').length>0){
      $("div#iframeheads").find('div').eq(0).trigger('click');
    };
    return false;
 });
 
});
</script>

</body>
</html>
